#!/usr/bin/env python3
# -*- coding: utf-8 -*-
#
# Copyright 2015-2019 Gabriel Acosta <acostadariogabriel@gmail.com>
#
# This file is part of Pireal.
#
# Pireal is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# any later version.
#
# Pireal is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Pireal; If not, see <http://www.gnu.org/licenses/>.

"""Script to run Pireal"""

import os
import sys

# Esto es reemplazado en tiempo de instalaci√≥n
INSTALLED_BASE_DIR = '@ BASE_DIR @'
if os.path.exists(INSTALLED_BASE_DIR):
    project_base_dir = INSTALLED_BASE_DIR
else:
    project_base_dir = os.path.abspath(os.path.dirname(os.path.dirname(
        os.path.realpath(sys.argv[0]))))

if project_base_dir not in sys.path:
    sys.path.insert(0, project_base_dir)

from pireal.core import cliparser
from pireal import __version__

# Parse CLI
args = cliparser.get_cli().parse_args()

if args.version:
    print(__version__)
    sys.exit(0)

from pireal.core import logger
from pireal import main
from pireal import resources  # noqa
# Set up logger
logger.set_up(args.verbose)

main.start_pireal()
